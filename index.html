<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agile Exam System</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 20px auto; background-color: #f4f4f4; }
        .card { background: white; padding: 20px; margin-bottom: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        h2 { border-bottom: 2px solid #007bff; padding-bottom: 10px; color: #333; }
        label { display: block; margin: 10px 0 5px; font-weight: bold; }
        input { width: 95%; padding: 8px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px; }
        
        /* Grey out read-only fields */
        input[readonly] {
            background-color: #e9ecef;
            color: #6c757d;
            cursor: not-allowed;
            border-color: #ced4da;
        }

        button { background-color: #28a745; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; font-size: 16px; }
        button:hover { background-color: #218838; }
        
        /* Feedback Messages */
        .hidden { display: none; }
        .success-msg { background-color: #d4edda; color: #155724; padding: 10px; border-radius: 4px; margin-top: 10px; }
        .error-msg { background-color: #f8d7da; color: #721c24; padding: 10px; border-radius: 4px; margin-top: 10px; }
    </style>
</head>
<body>
    <h1>Exam System Prototype</h1>

    <div class="card">
        <h2>Update Profile</h2>
        
        <label>Student ID:</label>
        <input type="text" value="23WMR05123" readonly>

        <label>Full Name:</label>
        <input type="text" value="John Doe" readonly>
        
        <label>Email Address:</label>
        <input type="email" value="john@student.tarc.edu.my" readonly>

        <label>Phone Number:</label>
        <input type="tel" id="phoneNumber" value="012-9876543"> 
        
        <label>New Password:</label>
        <input type="password" id="password" placeholder="Leave blank to keep current password">
        
        <button onclick="saveProfile()">Save Changes</button>
        
        <div id="msg-box" class="hidden"></div>
    </div>

    <script>
        function saveProfile() {
            // 1. Get values
            const phone = document.getElementById('phoneNumber').value.trim();
            const pass = document.getElementById('password').value;
            const msgBox = document.getElementById('msg-box');

            // Reset Message Box
            msgBox.classList.add('hidden');
            msgBox.className = 'hidden'; // Remove error/success classes

            // --- VALIDATION LOGIC ---

            // Check 1: Is Phone Empty?
            if (!phone) {
                showError("Error: Phone number cannot be empty.");
                return;
            }

            // Check 2: Phone Format (Digits and dashes only)
            const phonePattern = /^[0-9-]+$/;
            if (!phonePattern.test(phone)) {
                showError("Error: Phone contains invalid characters. Use only digits and dashes.");
                return;
            }

            // Check 3: Password Length (Only if they typed a password)
            if (pass.length > 0 && pass.length < 6) {
                showError("Error: New password must be at least 6 characters long.");
                return;
            }

            // --- SUCCESS ---
            showSuccess("Success: Profile details updated!");
        }

        // Helper function to show Red Error Box
        function showError(message) {
            const msgBox = document.getElementById('msg-box');
            msgBox.innerText = message;
            msgBox.className = 'error-msg'; // Apply red style
            msgBox.classList.remove('hidden');
        }

        // Helper function to show Green Success Box
        function showSuccess(message) {
            const msgBox = document.getElementById('msg-box');
            msgBox.innerText = message;
            msgBox.className = 'success-msg'; // Apply green style
            msgBox.classList.remove('hidden');
            
            // Auto-hide after 3 seconds
            setTimeout(() => msgBox.classList.add('hidden'), 3000);
        }
    </script>
</body>
</html>